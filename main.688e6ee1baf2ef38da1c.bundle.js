webpackJsonp([1,4],{0:function(t,e){},"0p6t":function(t,e){t.exports="<div class=\"avatar\"\n  [class.round]=\"round\"\n  [ngStyle]=\"{\n    'width': size + 'px',\n    'height': size + 'px',\n    'line-height': size + 'px',\n    'font-size': (size / 2) + 'px',\n    'background-color': bgColor\n  }\">\n  <span class=\"name\">{{name[0] | uppercase}}</span>\n  <span *ngIf=\"showStatus\" class=\"status round\"\n    [class.online]=\"lineStatus\"\n    [ngStyle]=\"{\n      'width': (size / 3) + 'px',\n      'height': (size / 3) + 'px'\n    }\"\n    ></span>\n</div>\n"},1:function(t,e,n){t.exports=n("x35b")},"1K+/":function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=c),e.type){case o.a.MESSAGES:var r=e.payload,u=r.messages,f=(r.roomId,n.i(a.a)(n.i(i.a)(u),"id"));return s({},t,{items:s({},t.items,f)});case o.a.MESSAGE:var l=e.payload,f=n.i(a.a)([n.i(i.b)(l)],"id");return s({},t,{items:s({},t.items,f)});default:return t}}var o=n("PHC3"),i=n("tNT0"),a=n("ccwa");e.a=r,n.d(e,"b",function(){return u});var s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},c={items:null,loading:!1},u=function(t){return t.loading}},"3pbj":function(t,e,n){"use strict";function r(t,e){return n.i(i.a)(u)(t,e)}var o=n("bndy"),i=(n.n(o),n("ZdI0")),a=n("dE2/"),s=n("Nkol"),c=n("I8IZ");e.a=r,n.d(e,"b",function(){return p}),n.d(e,"h",function(){return h}),n.d(e,"g",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return b}),n.d(e,"c",function(){return y}),n.d(e,"l",function(){return v}),n.d(e,"m",function(){return O}),n.d(e,"d",function(){return j}),n.d(e,"i",function(){return w}),n.d(e,"j",function(){return x}),n.d(e,"k",function(){return S});var u={auth:a.a,wsAuth:s.a,chat:c.a},f=function(t){return t.auth},l=function(t){return t.wsAuth},d=function(t){return t.chat},p=n.i(o.createSelector)(f,a.b),h=n.i(o.createSelector)(f,a.c),m=n.i(o.createSelector)(f,a.d),g=(n.i(o.createSelector)(f,a.e),n.i(o.createSelector)(f,a.f)),b=n.i(o.createSelector)(f,a.g),y=n.i(o.createSelector)(f,a.h),v=n.i(o.createSelector)(f,a.i),O=(n.i(o.createSelector)(l,s.b),n.i(o.createSelector)(l,s.c)),j=(n.i(o.createSelector)(l,s.d),n.i(o.createSelector)(l,s.e)),w=n.i(o.createSelector)(d,c.b),x=n.i(o.createSelector)(d,c.c),S=n.i(o.createSelector)(d,c.d)},"3wxp":function(t,e,n){"use strict";var r=n("3j3K"),o=n("WWmu"),i=n("JvF4"),a=n("3pbj");n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.autoLogin(),this.logged$=this.store.select(a.b),this.user$=this.store.select(a.l),this.connected$=this.store.select(a.m)},t.prototype.autoLogin=function(){var t=localStorage.getItem("user");if(t){var e=localStorage.getItem(t);if(e){var n=JSON.parse(e);this.store.dispatch(new i.j(n))}}},t.prototype.handleLogoutClick=function(){this.store.dispatch(new i.i)},t}();u=s([n.i(r._12)({selector:"ct-root",template:n("o4Mg"),styles:[n("HGZ3")]}),c("design:paramtypes",["function"==typeof(f=void 0!==o.b&&o.b)&&f||Object])],u);var f},"6jYK":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".authbar-wrapper,:host{display:-webkit-box;display:-ms-flexbox;display:flex}.authbar-wrapper{padding:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.green{background-color:green!important}.avatar{margin-right:5px}.user-name{margin:5px 15px}",""]),t.exports=t.exports.toString()},"7fwu":function(t,e,n){"use strict";var r=n("3j3K"),o=n("Fzro"),i=n("NsC6");n.d(e,"a",function(){return f});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=new o.b({"Content-Type":"application/json"}),u=new o.c({headers:c}),f=function(){function t(t){this.http=t}return t.prototype.login=function(t){return this.http.post(i.b,t,u)},t.prototype.register=function(t){return this.http.post(i.c,t,u)},t.prototype.saveLoginInfo=function(t){var e=t.user.id;localStorage.setItem("user",e),localStorage.setItem(e,JSON.stringify(t))},t}();f=a([n.i(r.c)(),s("design:paramtypes",["function"==typeof(l=void 0!==o.d&&o.d)&&l||Object])],f);var l},"7kGk":function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(r._12)({selector:"ct-not-found",template:n("t+Ye"),styles:[n("HSh7")]}),i("design:paramtypes",[])],a)},"8+qI":function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=s),e.type){case o.a.USERS:var r=e.payload.users,c=n.i(i.a)(r,"id");return a({},t,{items:a({},t.items,c)});case o.a.CHAT_JOIN:var u=e.payload,f=u.user,c=(u.time,d={},d[f.id]=a({},t.items[f.id]||f,{online:!0}),d);return a({},t,{items:a({},t.items,c)});case o.a.CHAT_LEAVE:var l=e.payload,f=l.user,c=(l.time,p={},p[f.id]=a({},t.items[f.id]||f,{online:!1}),p);return a({},t,{items:a({},t.items,c)});default:return t}var d,p}var o=n("PHC3"),i=n("ccwa");e.a=r,n.d(e,"b",function(){return c});var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s={items:{},loading:!1},c=function(t){return t.loading}},"9m5x":function(t,e,n){"use strict";var r=n("3j3K"),o=n("98po"),i=n("rCTf"),a=(n.n(i),n("S35O")),s=(n.n(a),n("1APj")),c=(n.n(s),n("+pb+")),u=(n.n(c),n("uCY4")),f=(n.n(u),n("HcJ8")),l=(n.n(f),n("EnA3")),d=(n.n(l),n("6Yye")),p=(n.n(d),n("zTng")),h=n("JvF4"),m=n("ld3t");n.d(e,"a",function(){return y});var g=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(t,e){var n=this;this.wsService=t,this.actions$=e,this.authenticate$=this.actions$.ofType(m.a).map(o.b).do(function(t){return n.wsService.authenticateUser(t)}),this.authSuccess$=this.actions$.ofType(m.b).map(o.b).do(function(){n.wsService.emitEvent("users"),n.wsService.emitEvent("rooms"),n.wsService.emitEvent("messages")}),this.authFailure$=this.actions$.ofType(m.c).switchMap(function(){return i.Observable.of(new h.i)}),this.disconnect$=this.actions$.ofType(m.e).do(function(){n.wsService.disconnect()})}return t}();g([n.i(o.c)({dispatch:!1}),b("design:type","function"==typeof(v=void 0!==i.Observable&&i.Observable)&&v||Object)],y.prototype,"authenticate$",void 0),g([n.i(o.c)({dispatch:!1}),b("design:type",Object)],y.prototype,"authSuccess$",void 0),g([n.i(o.c)(),b("design:type",Object)],y.prototype,"authFailure$",void 0),g([n.i(o.c)({dispatch:!1}),b("design:type","function"==typeof(O=void 0!==i.Observable&&i.Observable)&&O||Object)],y.prototype,"disconnect$",void 0),y=g([n.i(r.c)(),b("design:paramtypes",["function"==typeof(j=void 0!==p.a&&p.a)&&j||Object,"function"==typeof(w=void 0!==o.d&&o.d)&&w||Object])],y);var v,O,j,w},"AE3+":function(t,e){t.exports='<aside>\n  <md-sidenav-container>\n    <md-sidenav class="vs-sidenav" #sidebar mode="side" opened="true">\n    \x3c!-- <button md-button (click)="sidebar.toggle()">Open</button> --\x3e\n      <md-tab-group>\n        <md-tab label="All Users">\n          <ul>\n            <li *ngFor="let user of users">\n              <div class="user-name">\n                <ct-avatar [name]="user.username" [lineStatus]="user.online"></ct-avatar>\n                {{user.username}}\n              </div>\n            </li>\n          </ul>\n        </md-tab>\n        <md-tab label="All Rooms">\n          <ul>\n            <li *ngFor="let room of rooms">\n              <ct-avatar [name]="room.title" [showStatus]="false" [round]="false"></ct-avatar>\n              <div class="room-title">{{room.title}}</div>\n            </li>\n          </ul>\n        </md-tab>\n      </md-tab-group>\n    </md-sidenav>\n\n    \x3c!-- <button md-button (click)="sidebar.open()">Open</button> --\x3e\n  </md-sidenav-container>\n</aside>\n'},AjgG:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"svg{height:24px;width:24px}",""]),t.exports=t.exports.toString()},D7zq:function(t,e){t.exports='<svg>\n  <path d="M19,3 C20.11,3 21,3.9 21,5 L21,8 L19,8 L19,5 L5,5 L5,19 L19,19 L19,16 L21,16 L21,19 C21,20.1 20.11,21 19,21 L5,21 C3.9,21 3,20.1 3,19 L3,5 C3,3.9 3.9,3 5,3 L19,3 Z M15.5,17 L20.5,12 L15.5,7 L14.09,8.41 L16.67,11 L7,11 L7,13 L16.67,13 L14.09,15.59 L15.5,17 Z" />\n</svg>\n'},DrAu:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o([n.i(r.n)(),i("design:type",Object)],a.prototype,"user",void 0),o([n.i(r.n)(),i("design:type",Boolean)],a.prototype,"lineStatus",void 0),a=o([n.i(r._12)({selector:"ct-authbar",template:n("IDfd"),styles:[n("6jYK")]}),i("design:paramtypes",[])],a)},EaKZ:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(r._12)({selector:"ct-logout",template:n("D7zq"),styles:[n("AjgG")]}),i("design:paramtypes",[])],a)},Ftcj:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=f),t?e[t.slice().map(function(t){return t.charCodeAt(0)}).reduce(function(t,e){return e+t})%e.length]:"transparent"}var o=n("3j3K");n.d(e,"a",function(){return u});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s="Guest",c=50,u=function(){function t(){this.name=s,this.lineStatus=!1,this.showStatus=!0,this.round=!0,this.size=c,this.bgColor="#000"}return t.prototype.ngOnInit=function(){this.bgColor=r(this.name.split(/\s/))},t}();i([n.i(o.n)(),a("design:type",Object)],u.prototype,"name",void 0),i([n.i(o.n)(),a("design:type",Object)],u.prototype,"lineStatus",void 0),i([n.i(o.n)(),a("design:type",Object)],u.prototype,"showStatus",void 0),i([n.i(o.n)(),a("design:type",Object)],u.prototype,"round",void 0),i([n.i(o.n)(),a("design:type",Object)],u.prototype,"size",void 0),u=i([n.i(o._12)({selector:"ct-avatar",template:n("0p6t"),styles:[n("KvGw")]}),a("design:paramtypes",[])],u);var f=["#d73d32","#da611e","#7e3794","#093145","#4285f4","#1287a8","#67ae3f","#0d3d56","#d61a7f","#3c6478","#ff4080","#9a2617","#0197d9","#d3b53d","#e35c52","#c02f1d","#7b1fa2","#cd594a","#2d660d","#93a661"]},HGZ3:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".main-navbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;height:inherit;margin:0 auto;max-width:1200px}.active{color:red}.spacer{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}",""]),t.exports=t.exports.toString()},HSh7:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".not-found{margin-top:40px;text-align:center;line-height:2;font-size:16px}.not-found h3{color:tomato}",""]),t.exports=t.exports.toString()},I8IZ:function(t,e,n){"use strict";function r(t,e){return n.i(i.a)(u)(t,e)}var o=n("bndy"),i=(n.n(o),n("ZdI0")),a=n("8+qI"),s=n("wjKS"),c=n("1K+/");e.a=r,n.d(e,"b",function(){return f}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return d});var u={users:a.a,rooms:s.a,messages:c.a},f=function(t){return t.users},l=function(t){return t.rooms},d=function(t){return t.messages};n.i(o.createSelector)(f,a.b),n.i(o.createSelector)(l,s.b),n.i(o.createSelector)(d,c.b)},IDfd:function(t,e){t.exports='<div class="authbar-wrapper">\n  <ct-avatar class="avatar" [name]="user.name" [lineStatus]="lineStatus"></ct-avatar>\n  <div class="user-name">\n    {{ user.name }}\n  </div>\n</div>\n'},IUeE:function(t,e){t.exports='<main class="main">\n  <div class="demo-title">Demo Chat App using\n    <a href="https://angular.io/" target="_blank">Angular 4</a>\n  </div>\n  <ct-ng-logo class="ng-logo"></ct-ng-logo>\n  <button md-button routerLink="/chats" class="greeting">Welcome!</button>\n</main>\n'},Iksp:function(t,e,n){"use strict";var r=n("Qbdm"),o=n("3j3K"),i=n("Fzro"),a=n("5oXY"),s=n("KN8t"),c=n("rxKx"),u=(n.n(c),n("fAE3")),f=n("WWmu"),l=n("j3uM"),d=n("98po"),p=n("3wxp"),h=n("vP5t"),m=n("MSCJ"),g=n("JYE7"),b=n("bAVe"),y=n("7kGk"),v=n("YrpA"),O=n("7fwu"),j=n("zTng"),w=n("smkS"),x=n("9m5x"),S=n("nmzV"),R=n("SxYa"),_=n("OAzD"),E=n("rKj1"),k=n("3pbj");n.d(e,"a",function(){return P});var A=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},P=function(){function t(){}return t}();P=A([n.i(o.b)({declarations:[p.a,h.a,m.a,g.a,b.a,y.a,_.a],imports:[u.a,r.a,i.a,s.a,a.a.forRoot(E.a,{useHash:!0}),v.a,f.a.provideStore(k.a),l.a.instrumentOnlyWithExtension(),d.a.run(w.a),d.a.run(x.a),d.a.run(S.a)],providers:[O.a,j.a,R.a],bootstrap:[p.a]})],P)},JYE7:function(t,e,n){"use strict";var r=n("3j3K"),o=n("5oXY"),i=n("NVOs"),a=n("WWmu"),s=n("3pbj"),c=n("JvF4");n.d(e,"a",function(){return l});var u=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){this.fb=t,this.store=e,this.router=n,this.createForm()}return t.prototype.ngOnInit=function(){var t=this;this.store.dispatch(new c.k),this.store.select(s.b).subscribe(function(e){return t.logged=e}),this.logged&&this.router.navigate(["/home"]),this.loginError$=this.store.select(s.g),this.logging$=this.store.select(s.h)},t.prototype.createForm=function(){this.loginForm=this.fb.group({login:["",i.a.required],password:["",i.a.required]})},t.prototype.onSubmit=function(){var t=this.loginForm.value,e={username:t.login,password:t.password};this.store.dispatch(new c.m(e))},t}();l=u([n.i(r._12)({selector:"ct-login",template:n("Ovx2"),styles:[n("gQTQ")]}),f("design:paramtypes",["function"==typeof(d=void 0!==i.b&&i.b)&&d||Object,"function"==typeof(p=void 0!==a.b&&a.b)&&p||Object,"function"==typeof(h=void 0!==o.b&&o.b)&&h||Object])],l);var d,p,h},Jafg:function(t,e){t.exports='<div class="spinner">\n  <md-progress-spinner\n    mode="indeterminate"\n    color="primary"\n    class="progress-spinner">\n  </md-progress-spinner>\n</div>\n'},JvF4:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"g",function(){return f}),n.d(e,"m",function(){return l}),n.d(e,"l",function(){return d}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return m});var r="LOGIN",o="LOGIN_SUCCESS",i="LOGIN_FAILURE",a="REGISTER",s="REGISTER_SUCCESS",c="REGISTER_FAILURE",u="LOGOUT",f="CLEAR_ERROR_MESSAGE",l=function(){function t(t){this.payload=t,this.type=r}return t}(),d=function(){function t(t){this.payload=t,this.type=a}return t}(),p=function(){function t(){this.type=u}return t}(),h=function(){function t(t){this.payload=t,this.type=o}return t}(),m=(function(){function t(t){this.payload=t,this.type=i}}(),function(){function t(){this.type=f}return t}())},KvGw:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".avatar{background-color:#000;color:#fff;display:inline-block;position:relative;text-align:center}.round{border-radius:50%}.status{background-color:gray;background-image:radial-gradient(closest-side at 30% 30%,#fff,gray);display:inline-block;position:absolute;bottom:0;right:0}.online{background-color:#218b21;background-image:radial-gradient(closest-side at 30% 30%,#fff,#218b21)}",""]),t.exports=t.exports.toString()},MOVZ:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="MOVZ"},MSCJ:function(t,e,n){"use strict";var r=n("3j3K"),o=n("WWmu"),i=n("3pbj");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.users$=this.store.select(i.i),this.rooms$=this.store.select(i.j),this.messages$=this.store.select(i.k)},t}();c=a([n.i(r._12)({selector:"ct-chats",template:n("iP5G"),styles:[n("eYFq")]}),s("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object])],c);var u},Nkol:function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=a),e.type){case o.a:return i({},t,{authenticated:!1,authenticating:!0});case o.b:return i({},t,{authenticated:!0,authenticating:!1});case o.c:var n=e.payload.error;return i({},t,{authenticated:!1,authenticating:!1,error:n});case o.d:return i({},t,{connected:!0});case o.e:return a;default:return t}}var o=n("ld3t");e.a=r,n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return f});var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a={authenticating:!1,authenticated:!1,connected:!1,error:""},s=function(t){return t.authenticated},c=function(t){return t.authenticating},u=function(t){return t.error},f=function(t){return t.connected}},NsC6:function(t,e,n){"use strict";var r=n("kZql");n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a});var o=r.a.production?"https://vs-chat-server.herokuapp.com":"http://localhost:3001",i=o+"/login",a=o+"/signup"},OAzD:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return i});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=function(){function t(){}return t.prototype.transform=function(t,e){return t&&"items"in t&&t.items&&"object"==typeof t.items?Object.keys(t.items).map(function(e){return t.items[e]}):null},t}();i=o([n.i(r.S)({name:"async2array",pure:!1})],i)},Ovx2:function(t,e){t.exports='<main>\n  <form novalidate [formGroup]="loginForm" class="login-form" (ngSubmit)="onSubmit()">\n    <div class="login-info">\n    </div>\n    <div *ngIf="loginError$ | async" class="login-error dca-error-message">\n      {{loginError$ | async}}\n    </div>\n    <div class="form-group">\n    <md-input-container class="full-width">\n      <input mdInput formControlName="login" placeholder="Login" name="login" id="login" type="text" />\n      <md-error>This field is required</md-error>\n    </md-input-container>\n    </div>\n    <div class="form-group">\n    <md-input-container class="full-width">\n      <input mdInput formControlName="password" placeholder="Password" name="password" id="password" type="password" />\n      <md-error>This field is required</md-error>\n    </md-input-container>\n    </div>\n    <div class="form-group">\n      <button type="submit" md-button color="primary" class="login-btn" id="submit" [disabled]="loginForm.pristine || loginForm.invalid">Login</button>\n    </div>\n  </form>\n  <ct-spinner *ngIf="logging$ | async">\n  </ct-spinner>\n</main>\n'},PHC3:function(t,e,n){"use strict";var r={CHAT_JOIN:"join",CHAT_LEAVE:"leave",ROOMS:"rooms",USERS:"users",USER:"user",EDIT_USER:"edit user",ROOM_USERS:"room users",ADD_ROOM:"add room",DELETE_ROOM:"delete room",EDIT_ROOM:"edit room",JOIN_ROOM:"join room",LEAVE_ROOM:"leave room",INVITE_USER:"invite user",KICK_USER:"kick user",MESSAGES:"messages",MESSAGE:"message",EDIT_MESSAGE:"edit message",DELETE_MESSAGE:"delete message",ERROR_MESSAGE:"error message"};e.a=r},QtiS:function(t,e){t.exports='<main>\n  <form novalidate [formGroup]="registerForm" class="register-form" (ngSubmit)="onSubmit()">\n    <div class="register-info">\n    </div>\n    <div *ngIf="registerError$ | async" class="register-error dca-error-message">\n      {{registerError$ | async}}\n    </div>\n    <div class="form-group">\n      <md-input-container class="full-width">\n        <input mdInput formControlName="login" placeholder="Login" name="login" type="text" />\n        <md-error>{{ formErrors.login }}</md-error>\n      </md-input-container>\n    </div>\n    <div class="form-group">\n      <md-input-container class="full-width">\n        <input mdInput formControlName="email" placeholder="Email" name="email" type="email" />\n        <md-error>{{ formErrors.email }}</md-error>\n      </md-input-container>\n    </div>\n    <div class="form-group">\n      <md-input-container class="full-width">\n        <input mdInput formControlName="password" placeholder="Password" name="password" type="password" />\n        <md-error>{{ formErrors.password }}</md-error>\n      </md-input-container>\n    </div>\n    <div class="form-group">\n      <md-input-container class="full-width">\n        <input mdInput formControlName="confirmPassword" placeholder="Confirm password" name="confirm-password" type="password" />\n        <md-error>{{ formErrors.confirmPassword }}</md-error>\n      </md-input-container>\n    </div>\n    <div class="form-group">\n      <button md-button color="primary" class="register-btn" [disabled]="registerForm.pristine || registerForm.invalid">Register</button>\n    </div>\n  </form>\n  <ct-spinner *ngIf="registering$ | async">\n  </ct-spinner>\n</main>\n'},RrpY:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},SxYa:function(t,e,n){"use strict";var r=n("3j3K"),o=n("5oXY"),i=n("WWmu"),a=n("3pbj");n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){var n=this;this.store=t,this.router=e,this.login$=t.select(a.b),this.login$.subscribe(function(t){n.login=t})}return t.prototype.canActivate=function(t,e){var n=e.url;return this.checkLogin(n)},t.prototype.checkLogin=function(t){return!!this.login||(this.router.navigate(["/login"]),this.login)},t}();u=s([n.i(r.c)(),c("design:paramtypes",["function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],u);var f,l},V7dE:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"svg{max-width:100px}.left{fill:#dd0031}.right{fill:#c3002f}.a{fill:#fff}",""]),t.exports=t.exports.toString()},XYPW:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"aside{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%}",""]),t.exports=t.exports.toString()},YrpA:function(t,e,n){"use strict";var r=n("3j3K"),o=n("fAE3"),i=n("vLGZ"),a=n("DrAu"),s=n("Ftcj"),c=n("EaKZ"),u=n("ehGz"),f=n("sS9u"),l=n("ojNP");n.d(e,"a",function(){return h});var d=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=[i.a,a.a,c.a,u.a,f.a,l.a,s.a],h=function(){function t(){}return t}();h=d([n.i(r.b)({imports:[o.a],declarations:p.slice(),exports:p.slice()})],h)},ZKt3:function(t,e){t.exports='<form [formGroup]="sendForm" class="send-message-form" (ngSubmit)="onSubmit()">\n  <md-input-container class="send-message">\n    <input mdInput placeholder="Send message" formControlName="newMessage" name="newMessage" id="newMessage" />\n  </md-input-container>\n  <button md-button type="submit" color="primary" class="send-btn" id="submit" [disabled]="sendForm.pristine || sendForm.invalid">Send</button>\n</form>\n'},ZdI0:function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e={}),n.i(o.i)()?n.i(i.compose)(a.storeFreeze,s.c)(Object.assign(t,e)):n.i(s.c)(Object.assign(t,e))}var o=n("3j3K"),i=n("owqQ"),a=(n.n(i),n("KhQu")),s=(n.n(a),n("WWmu"));e.a=r},bAVe:function(t,e,n){"use strict";var r=n("3j3K"),o=n("NVOs"),i=n("WWmu"),a=n("JvF4"),s=n("3pbj");n.d(e,"a",function(){return O});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=4,l=24,d="This field is required.",p="Please retype the password.",h="Please provide a valid email address.",m="Minimum length is "+f+" characters.",g="Maximum length is "+l+" characters.",b="Please create a login with only alphanumeric characters.",y=/^[a-zA-Z0-9]+$/,v=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,O=function(){function t(t,e){this.fb=t,this.store=e,this.formErrors={login:d,email:d,password:d,confirmPassword:d},this.validationMessages={login:{required:d,minlength:m,maxlength:g,pattern:b},email:{required:d,pattern:h},password:{required:d,minlength:m,notEqualPasswords:p},confirmPassword:{required:d,minlength:m,notEqualPasswords:p}},this.createForm()}return t.prototype.ngOnInit=function(){this.store.dispatch(new a.k),this.registerError$=this.store.select(s.e),this.registering$=this.store.select(s.f)},t.prototype.createForm=function(){var t=this;this.registerForm=this.fb.group({login:["",[o.a.required,o.a.minLength(f),o.a.maxLength(l),o.a.pattern(y)]],email:["",[o.a.required,o.a.pattern(v)]],password:["",[o.a.required,o.a.minLength(f)]],confirmPassword:["",[o.a.required,o.a.minLength(f),this.comparePasswords("password")]]}),this.registerForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)})},t.prototype.onValueChanged=function(t){var e=this;if(this.registerForm){var n=this.registerForm;Object.keys(this.formErrors).forEach(function(t){e.formErrors[t]="";var r=n.get(t);if(r&&!r.valid){var o=e.validationMessages[t];Object.keys(r.errors).forEach(function(n){e.formErrors[t]+=o[n]+" "})}})}},t.prototype.comparePasswords=function(t){var e,n;return function(r){if(!r.parent)return null;if(!e){if(e=r,!(n=r.parent.get(t)))return null;n.valueChanges.subscribe(function(){e.updateValueAndValidity()})}return n&&n.value!==e.value?{notEqualPasswords:!0}:null}},t.prototype.onSubmit=function(){var t=this.registerForm.value,e={username:t.login,email:t.email,password:t.password};this.store.dispatch(new a.l(e))},t}();O=c([n.i(r._12)({selector:"ct-register",template:n("QtiS"),styles:[n("k/w1")]}),u("design:paramtypes",["function"==typeof(j=void 0!==o.b&&o.b)&&j||Object,"function"==typeof(w=void 0!==i.b&&i.b)&&w||Object])],O);var j,w},ccwa:function(t,e,n){"use strict";function r(t){if("string"!=typeof t)throw new Error("Argument must be a string");return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t){return t.toUpperCase()}).replace(/\s+/g,"")}function o(t,e){return t.reduce(function(t,n){return t[n[e]]=n,t},{})}e.b=r,e.a=o},cfKH:function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 250 250" style="enable-background:new 0 0 250 250;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#DD0031;}\n\t.st1{fill:#C3002F;}\n\t.st2{fill:#FFFFFF;}\n</style>\n<g>\n\t<polygon class="left" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2 \t"/>\n\t<polygon class="right" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30 \t"/>\n\t<path class="a" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1\n\t\tL125,52.1z M142,135.4H108l17-40.9L142,135.4z"/>\n</g>\n</svg>\n'},"dE2/":function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=a),e.type){case o.a:return i({},t,{logging:!0,logged:!1,id:"",token:""});case o.b:var n=e.payload,r=n.user,s=n.token;return i({},t,{logging:!1,logged:!0,error:"",name:r.username,id:r.id,token:s});case o.c:var c=e.payload.error;return i({},t,{logging:!1,logged:!1,error:c});case o.d:return i({},t,{registering:!0,registered:!1});case o.e:return i({},t,{registering:!1,registered:!0});case o.f:var c=e.payload.error;return i({},t,{registering:!1,registered:!1,error:c});case o.g:return t.error?i({},t,{error:""}):t;case o.h:return a;default:return t}}var o=n("JvF4");e.a=r,n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return h});var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a={id:"",name:"",logging:!1,logged:!1,registering:!1,registered:!1,error:"",token:""},s=function(t){return t.logged},c=function(t){return t.logging},u=function(t){return t.error},f=function(t){return t.registered},l=function(t){return t.registering},d=function(t){return t.error},p=function(t){return t.token},h=function(t){return{id:t.id,name:t.name}}},eYFq:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,":host{display:-webkit-box;display:-ms-flexbox;display:flex;min-width:300px;max-width:1200px;margin:0 auto}",""]),t.exports=t.exports.toString()},ehGz:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o([n.i(r.n)(),i("design:type",Array)],a.prototype,"users",void 0),o([n.i(r.n)(),i("design:type",Array)],a.prototype,"rooms",void 0),a=o([n.i(r._12)({selector:"ct-sidebar",template:n("AE3+"),styles:[n("XYPW")]}),i("design:paramtypes",[])],a)},fAE3:function(t,e,n){"use strict";var r=n("3j3K"),o=n("2Je8"),i=n("NVOs"),a=n("fYnu");n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=[o.k,a.a,i.c,i.d],u=function(){function t(){}return t}();u=s([n.i(r.b)({imports:c.slice(),declarations:[],exports:c.slice()})],u)},gQTQ:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,":host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:300px;max-width:1200px;margin:10px auto}.login-form{width:300px}.form-group{margin-top:10px}.full-width{width:100%}.login-btn{width:100%;border-radius:10px}",""]),t.exports=t.exports.toString()},iP5G:function(t,e){t.exports='<ct-sidebar [users]="users$ | async | async2array" [rooms]="rooms$ | async | async2array">\n</ct-sidebar>\n<main>\n  <ul>\n    <li *ngFor="let message of messages$ | async | async2array">\n      <ct-avatar [name]="message.author.username" [showStatus]="false"></ct-avatar>\n      <div class="message">{{message.text}}</div>\n      <div class="time">{{message.sentAt|date:"dd.MM.yy HH:mm:ss"}}</div>\n    </li>\n  </ul>\n  <ct-message-sender></ct-message-sender>\n</main>\n'},"k/w1":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,":host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:300px;max-width:1200px;margin:10px auto}.register-form{width:300px}.form-group{margin-top:15px}.full-width{width:100%}.register-btn{width:100%;border-radius:10px}",""]),t.exports=t.exports.toString()},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},ld3t:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"j",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return f}),n.d(e,"f",function(){return l}),n.d(e,"i",function(){return d});var r="AUTHENTICATE",o="AUTHENTICATE_SUCCESS",i="AUTHENTICATE_FAILURE",a="CONNECT",s="DISCONNECT",c=function(){function t(t){this.payload=t,this.type=r}return t}(),u=function(){function t(t){this.payload=t,this.type=o}return t}(),f=function(){function t(t){this.payload=t,this.type=i}return t}(),l=function(){function t(){this.type=a}return t}(),d=function(){function t(){this.type=s}return t}()},mXZA:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".spinner{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(0,0,0,.3);display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;top:0;width:100%}",""]),t.exports=t.exports.toString()},nQb1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PHC3"),o=n("ccwa");n.d(e,"WS_SEND_MESSAGE",function(){return i}),n.d(e,"UsersAction",function(){return a}),n.d(e,"RoomsAction",function(){return s}),n.d(e,"MessagesAction",function(){return c}),n.d(e,"JoinAction",function(){return u}),n.d(e,"LeaveAction",function(){return f}),n.d(e,"actionNameFromEvent",function(){return l}),n.d(e,"SendMessageAction",function(){return d}),n.d(e,"MessageAction",function(){return p}),n.d(e,"ErrorMessageAction",function(){return h});var i="WS_SEND_MESSAGE",a=function(){function t(t){this.payload=t,this.type=r.a.USERS}return t}(),s=function(){function t(t){this.payload=t,this.type=r.a.ROOMS}return t}(),c=function(){function t(t){this.payload=t,this.type=r.a.MESSAGES}return t}(),u=function(){function t(t){this.payload=t,this.type=r.a.CHAT_JOIN}return t}(),f=function(){function t(t){this.payload=t,this.type=r.a.CHAT_LEAVE}return t}(),l=function(t){return n.i(o.b)(t)+"Action"},d=function(){function t(t){this.payload=t,this.type=i}return t}(),p=function(){function t(t){this.payload=t,this.type=r.a.MESSAGE}return t}(),h=function(){function t(t){this.payload=t,this.type=r.a.ERROR_MESSAGE}return t}()},nmzV:function(t,e,n){"use strict";var r=n("3j3K"),o=n("98po"),i=n("rCTf"),a=(n.n(i),n("S35O")),s=(n.n(a),n("1APj")),c=(n.n(s),n("+pb+")),u=(n.n(c),n("uCY4")),f=(n.n(u),n("HcJ8")),l=(n.n(f),n("EnA3")),d=(n.n(l),n("6Yye")),p=(n.n(d),n("zTng")),h=n("PHC3"),m=n("nQb1");n.d(e,"a",function(){return y});var g=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(t,e){var n=this;this.wsService=t,this.actions$=e,this.sendMessage$=this.actions$.ofType(m.WS_SEND_MESSAGE).map(o.b).do(function(t){return n.wsService.emitEvent(h.a.MESSAGE,t.text)})}return t}();g([n.i(o.c)({dispatch:!1}),b("design:type","function"==typeof(v=void 0!==i.Observable&&i.Observable)&&v||Object)],y.prototype,"sendMessage$",void 0),y=g([n.i(r.c)(),b("design:paramtypes",["function"==typeof(O=void 0!==p.a&&p.a)&&O||Object,"function"==typeof(j=void 0!==o.d&&o.d)&&j||Object])],y);var v,O,j},o4Mg:function(t,e){t.exports='<md-toolbar color="primary">\n  <nav class="main-navbar">\n    <button\n      md-button routerLink="/home"\n      routerLinkActive="active"\n      mdTooltip="Home">\n        <md-icon color="secondary">home</md-icon>\n    </button>\n    <button\n      md-button routerLink="/chats"\n      routerLinkActive="active"\n      mdTooltip="Chats">\n        <md-icon color="secondary">chat</md-icon>\n    </button>\n    <span class="spacer"></span>\n    <button *ngIf="!(logged$ | async)"\n      md-button routerLink="/login"\n      routerLinkActive="active"\n      mdTooltip="Login">\n        <md-icon color="secondary" alt="login">exit_to_app</md-icon>\n    </button>\n    <button *ngIf="!(logged$ | async)"\n      md-button routerLink="/register"\n      routerLinkActive="active"\n      mdTooltip="Register">\n        <md-icon color="secondary">assignment</md-icon>\n    </button>\n    <ct-authbar *ngIf="logged$ | async" [user]="user$ | async" [lineStatus]="connected$ | async"></ct-authbar>\n    <button *ngIf="logged$ | async"\n      id="logout"\n      md-button\n      (click)="handleLogoutClick()"\n      mdTooltip="Logout">\n         <md-icon color="secondary"><ct-logout></ct-logout></md-icon>\n    </button>\n  </nav>\n</md-toolbar>\n\n<router-outlet></router-outlet>\n'},ojNP:function(t,e,n){"use strict";var r=n("3j3K"),o=n("NVOs"),i=n("WWmu"),a=n("nQb1");n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e){this.fb=t,this.store=e}return t.prototype.ngOnInit=function(){this.sendForm=this.fb.group({newMessage:["",o.a.required]})},t.prototype.onSubmit=function(){var t=this.sendForm.value,e={text:t.newMessage};this.store.dispatch(new a.SendMessageAction(e))},t}();u=s([n.i(r._12)({selector:"ct-message-sender",template:n("ZKt3"),styles:[n("RrpY")]}),c("design:paramtypes",["function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(l=void 0!==i.b&&i.b)&&l||Object])],u);var f,l},rKj1:function(t,e,n){"use strict";var r=n("vP5t"),o=n("JYE7"),i=n("MSCJ"),a=n("bAVe"),s=n("7kGk"),c=n("SxYa");n.d(e,"a",function(){return u});var u=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:r.a},{path:"chats",component:i.a,canActivate:[c.a]},{path:"login",component:o.a},{path:"register",component:a.a},{path:"**",component:s.a}]},rWU4:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,":host{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;margin:0 auto;padding:0 5px;min-width:300px;max-width:1200px}.main,:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.main{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;margin-top:20px}.greeting{margin-top:50px}.demo-title,.greeting{font-size:larger;text-align:center}.demo-title{font-style:italic}.ng-logo{margin:10px;text-align:center}",""]),t.exports=t.exports.toString()},sS9u:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(r._12)({selector:"ct-spinner",template:n("Jafg"),styles:[n("mXZA")]}),i("design:paramtypes",[])],a)},smkS:function(t,e,n){"use strict";var r=n("3j3K"),o=n("5oXY"),i=n("98po"),a=n("rCTf"),s=(n.n(a),n("S35O")),c=(n.n(s),n("1APj")),u=(n.n(c),n("+pb+")),f=(n.n(u),n("uCY4")),l=(n.n(f),n("HcJ8")),d=(n.n(l),n("EnA3")),p=(n.n(d),n("6Yye")),h=(n.n(p),n("7fwu")),m=n("JvF4"),g=n("ld3t");n.d(e,"a",function(){return v});var b=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(t,e,n){var r=this;this.authService=t,this.actions$=e,this.router=n,this.login$=this.actions$.ofType(m.a).map(i.b).switchMap(function(t){return r.authService.login(t).map(function(t){return t.json()}).map(function(t){var e=t.user.id;return localStorage.setItem("user",e),localStorage.setItem(e,JSON.stringify(t)),r.router.navigate(["/chats"]),new m.j(t)}).catch(function(t){return console.error(t),a.Observable.of({type:m.c,payload:t.status?t.json():{error:"unknown error"}})})}),this.loginSuccess$=this.actions$.ofType(m.b).map(i.b).switchMap(function(t){return a.Observable.of(new g.j({token:t.token}))}),this.register$=this.actions$.ofType(m.d).map(i.b).switchMap(function(t){return r.authService.register(t).map(function(t){return{type:m.e}}).catch(function(t){return a.Observable.of({type:m.f,payload:t.status?t.json():{error:"unknown error"}})})}),this.logout$=this.actions$.ofType(m.h).do(function(){localStorage.removeItem("user"),r.router.navigate(["/home"])}).switchMap(function(){return a.Observable.of(new g.i)})}return t}();b([n.i(i.c)(),y("design:type","function"==typeof(O=void 0!==a.Observable&&a.Observable)&&O||Object)],v.prototype,"login$",void 0),b([n.i(i.c)(),y("design:type","function"==typeof(j=void 0!==a.Observable&&a.Observable)&&j||Object)],v.prototype,"loginSuccess$",void 0),b([n.i(i.c)(),y("design:type","function"==typeof(w=void 0!==a.Observable&&a.Observable)&&w||Object)],v.prototype,"register$",void 0),b([n.i(i.c)(),y("design:type","function"==typeof(x=void 0!==a.Observable&&a.Observable)&&x||Object)],v.prototype,"logout$",void 0),v=b([n.i(r.c)(),y("design:paramtypes",["function"==typeof(S=void 0!==h.a&&h.a)&&S||Object,"function"==typeof(R=void 0!==i.d&&i.d)&&R||Object,"function"==typeof(_=void 0!==o.b&&o.b)&&_||Object])],v);var O,j,w,x,S,R,_},"t+Ye":function(t,e){t.exports='<div class="not-found">\n  <h3>404 page not found</h3>\n  <p>We are sorry but the page you are looking for does not exist.</p>\n  <p>Go to the\n    <a [routerLink]="[\'/home\']">home page</a>.</p>\n</div>\n'},tNT0:function(t,e,n){"use strict";function r(t){return t.map(o)}function o(t){return{id:t.id,text:t.msg,sentAt:t.time,author:t.user}}e.a=r,e.b=o;!function(){function t(){}}()},vLGZ:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(r._12)({selector:"ct-ng-logo",template:n("cfKH"),styles:[n("V7dE")]}),i("design:paramtypes",[])],a)},vP5t:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(r._12)({selector:"ct-home",template:n("IUeE"),styles:[n("rWU4")]}),i("design:paramtypes",[])],a)},wjKS:function(t,e,n){"use strict";function r(t,e){switch(void 0===t&&(t=u),e.type){case o.a.ROOMS:var r=e.payload.rooms,i=n.i(a.a)(r,"id");return c({},t,{items:c({},t.items,i)});default:return t}}var o=n("PHC3"),i=n("yHu7"),a=n("ccwa");e.a=r,n.d(e,"b",function(){return f});var s,c=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},u={items:(s={},s[i.a.id]=i.a,s),loading:!1},f=function(t){return t.loading}},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("3j3K"),o=n("O61y"),i=n("Iksp");n("kZql").a.production&&n.i(r.a)(),n.i(o.a)().bootstrapModule(i.a)},yHu7:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(t,e,n,r,o){this.title=t,e&&(this.id=e),n&&(this.creator=n),r&&(this.createAt=r),Array.isArray(this.users)&&(this.users=o.slice())}return t}(),o=new r("Common Room","0")},zTng:function(t,e,n){"use strict";var r=n("3j3K"),o=n("DmT9"),i=(n.n(o),n("NsC6")),a=n("3pbj"),s=n("WWmu"),c=n("ld3t"),u=n("nQb1"),f=n("PHC3");n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){var e=this;this.store=t,this.connected=!1,this.store.select(a.c).subscribe(function(t){return e.token=t}),this.store.select(a.d).subscribe(function(t){return e.connected=t})}return t.prototype.authenticateUser=function(t){this.connected?(this.socket.open(),this.socket.emit("authenticate",t)):this.reconnect()},t.prototype.getSocket=function(){return this.socket},t.prototype.initSocket=function(){var t=this;this.socket||(this.socket=o(i.a),this.socket.on("connect",function(){t.store.dispatch(new c.f),t.socket.on("authenticated",function(){t.store.dispatch(new c.g)}),t.socket.on("unauthorized",function(e){t.store.dispatch(new c.h({error:e.message}))}),t.socket.on("disconnect",function(e){"transport close"===e&&(t.store.dispatch(new c.i),setTimeout(function(){t.reconnect()},1e3))}),Object.keys(f.a).forEach(function(e){t.onEvent(f.a[e])}),t.token&&t.store.dispatch(new c.j({token:t.token}))}))},t.prototype.reconnect=function(){this.socket&&(this.socket.disconnect(),this.socket=null),this.initSocket()},t.prototype.disconnect=function(){this.socket.disconnect(),this.socket=null},t.prototype.onEvent=function(t){var e=this;this.socket.on(t,function(n){e.store.dispatch(new(u[u.actionNameFromEvent(t)])(n))})},t.prototype.emitEvent=function(t,e){(n=this.socket).emit.apply(n,[t].concat(e));var n},t}();p=l([n.i(r.c)(),d("design:paramtypes",["function"==typeof(h=void 0!==s.b&&s.b)&&h||Object])],p);var h}},[1]);